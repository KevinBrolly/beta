{% extends "base.html" %} {% load aliss %} {% block title %}Sign Up - ALISS{% endblock %} {% block meta_schema %}
<meta property="og:title" content="Sign Up - ALISS" />
<meta name="twitter:title" content="Sign Up - ALISS" />
<meta name="description" content="Joining ALISS allows you to receive notifications about new services in your area, get updates if a service you frequent is changed and more.">
<meta property="og:description" content="Joining ALISS allows you to receive notifications about new services in your area, get updates if a service you frequent is changed and more." />
<meta name="twitter:description" content="Joining ALISS allows you to receive notifications about new services in your area, get updates if a service you frequent is changed and more." /> {% endblock %} {% block container %}
<main class="main" role="main">
    <section id="content">
        <div class="row">
            <div class="columns content">
                <div class="copy-container">
                    <h1>Sign up</h1>
                    <p>By joining our community you can:</p>
                    <ul>
                        <li>Add your organisation, and its services to ALISS</li>
                        <li>If your organisation is already on ALISS, you can submit a claim to gain editorial control over its page</li>
                        <li>Pre-fill the search box with your postcode for a quick and easy search</li>
                        <!--
            <li>Configure your search options allowing for easier searching and better results</li>
            <li>Receive notifications about new services or changes to service information</li>
            -->
                        <li>Save services that matter to you and the people you work with</li>
                        <!-- <li>Get an email digest of changes straight into your inbox</li> -->
                        <li>Share service information with people you work with and care about</li>
                    </ul>
                </div>
            </div>
        </div>
    </section>
    <section class="large-form">
        <div class="row">
            <div class="columns">
                <form method="post" name="registration">
                    {% csrf_token %}

                    </p>
                    <br>

                    <div class="f-row three">
                        {% include 'partials/forms/field.html' with field=form.name %}
                        <div><i class="fa fa-info-circle" aria-hidden="true"></i> Use only lower case characters when entering your email.</div>
                        <br> {% include 'partials/forms/field.html' with field=form.email %}
                        <div class="f-error" id="toggle1" style="display:none">The two Email didn’t match.<br></div>
                        <div class="f-error" id="toggle4" style="display:none"> Invalid Email Address<br></div>
                        <!-- <div id="emailerror"></div> -->
                        {% include 'partials/forms/field.html' with field=form.email2%}
                        <div class="f-error" id="toggle2" style="display:none">The two Email didn’t match.<br></div>
                        <div class="f-error" id="toggle3" style="display:none"> Invalid Email Address<br></div>


                    </div>

                    <div class="f-row two">
                        {% include 'partials/forms/field.html' with field=form.phone_number %} {% include 'partials/forms/field.html' with field=form.postcode %}
                    </div>
                    <i class="fa fa-info-circle" aria-hidden="true"></i> Password must have 8 character, both lowercase and Uppercase are accepted the password must much.
                    </p>
                    <br><br>
                    <div class="f-row two">
                        {% include 'partials/forms/field.html' with field=form.password1 %} {% include 'partials/forms/field.html' with field=form.password2 %}

                    </div>

                    {% comment %}
                    <div class="preferences">
                        <div class="pad">
                            <div class="info-box needs">
                                <div class="heading">
                                    <h4>My needs</h4>
                                </div>
                                <p>Which categories are most relevant to your current needs?</p>
                                {% get_root_categories as root_categories %}
                                <div class="all-categories">
                                    <ul class="radio-list cat truncate">
                                        {% for category in root_categories %}
                                        <li>
                                            <label>
                          <input type="checkbox">
                          <span class="cat">
                            <i class="fa fa-utensil-fork"></i>
                          </span>
                          <span class="name">
                            {{ category.name }}
                          </span>
                        </label>
                                        </li>
                                        {% endfor %}
                                    </ul>
                                </div>
                                <p><a title="Click here to deselect all your selected categories." class="clear-all">Clear All</a></p>
                            </div>
                            <div class="info-box notifications">
                                <div class="heading">
                                    <h4>My notifications</h4>
                                </div>
                                <div class="checkbox-list">
                                    <div>
                                        <label>
                      <input type="checkbox">
                      <span class="name">
                        Let me know when new services relevant to my needs open up in my postcode
                      </span>
                    </label>
                                    </div>
                                    <div>
                                        <label>
                      <input type="checkbox">
                      <span class="name">
                        Let me know when information changes for a service I’ve saved
                      </span>
                    </label>
                                    </div>
                                </div>
                            </div>
                            <div class="info-box contact-me">
                                <div class="heading">
                                    <h4>How to contact me</h4>
                                </div>
                                <div class="checkbox-list">
                                    <div>
                                        <label>
                      <input type="checkbox">
                      <span class="name">
                        Send me email notifications
                      </span>
                    </label>
                                    </div>
                                    <div>
                                        <label>
                      <input type="checkbox" disabled>
                      <span class="name">
                        Send me notifications by text (coming soon)
                      </span>
                    </label>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="copy-container">
                            <p>You can change these preferences at any time. Email notifications are sent in the form of one weekly digest so we don’t overload your inbox.</p>
                        </div>
                    </div>
                    {% endcomment %}
                    <div class="submit">
                        {% include 'partials/forms/checkbox_agree.html' with field=form.prepopulate_postcode %} {% include 'partials/forms/checkbox_agree.html' with field=form.accept_terms_and_conditions %}
                        <input type="submit" value="Sign up">
                    </div>
                </form>
            </div>
        </div>
    </section>
</main>
{% endblock %} {% block before_body_close %}
<script type="text/javascript">
    var _isvalid = true;
    $(document).ready(function() {

        validatesignupform();
    })

    function validateEmail() {
        var x1 = document.getElementById("id_email");
        var x3 = document.getElementById("id_email2");
        var error3 = $('#toggle3');
        var error4 = $('#toggle4');
        var reg = /^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/;

        if (reg.test(x1.value) == false) {
            error4.show();

            return false;
        }
        error4.hide();

        return true;

    }


    function myEmail() {
        var x = document.getElementById("id_email");
        var x2 = document.getElementById("id_email2");
        x.value = x.value.toLowerCase();
        x2.value = x2.value.toLowerCase();
    }

    function validatetoggle() {
        var email1 = $('#id_email');
        var email2 = $('#id_email2');
        var error1 = $('#toggle1');
        var error2 = $('#toggle2');

        if (email1.val() != email2.val()) {
            _isvalid = false;
            error1.hide();
            error2.show();
        } else {
            _isvalid = true;
            error1.hide();
            error2.hide();

        }

    }

    function validatesignupform() {

        $("#id_email2").on('blur', function() {
            validatetoggle();
            myEmail();
            validateEmail();


        });
        $("#id_email1").on('blur', function() {
            validatetoggle();
            myEmail();
            validateEmail();

        });
        $('#id_password1').on('focus', function() {
            $('#id_password1-help-text').show()
            $('#id_password2-help-text').show()
        });

        $("form").submit(function() {

            if (_isvalid) {
                return true;
            }
        });

    }
</script>
{% endblock%}